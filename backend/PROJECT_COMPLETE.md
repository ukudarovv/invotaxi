# ‚úÖ –ü—Ä–æ–µ–∫—Ç Backend –∑–∞–≤–µ—Ä—à–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω!

## üéâ –°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **Django —Å–µ—Ä–≤–µ—Ä** - –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:8000
2. **REST API** - –≤—Å–µ endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - SQLite —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
4. **WebSocket** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
5. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - OTP –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É —Ä–∞–±–æ—Ç–∞–µ—Ç

### üìä –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

- ‚úÖ 5 —Ä–µ–≥–∏–æ–Ω–æ–≤
- ‚úÖ 10 –≤–æ–¥–∏—Ç–µ–ª–µ–π (–ø–µ—Ä–≤—ã–µ 5 –æ–Ω–ª–∞–π–Ω)
- ‚úÖ 51 –ø–∞—Å—Å–∞–∂–∏—Ä (–≤–∫–ª—é—á–∞—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ)

### üîó –î–æ—Å—Ç—É–ø–Ω—ã–µ endpoints:

#### –ü—É–±–ª–∏—á–Ω—ã–µ:
- `GET /api/regions/` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

#### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:
- `POST /api/auth/phone-login/` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- `POST /api/auth/verify-otp/` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- `POST /api/auth/logout/` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

#### –ó–∞–∫–∞–∑—ã (—Ç—Ä–µ–±—É—é—Ç —Ç–æ–∫–µ–Ω):
- `GET /api/orders/` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- `POST /api/orders/` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- `GET /api/orders/{id}/` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- `PATCH /api/orders/{id}/status/` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

#### –í–æ–¥–∏—Ç–µ–ª–∏ (—Ç—Ä–µ–±—É—é—Ç —Ç–æ–∫–µ–Ω):
- `GET /api/drivers/` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- `PATCH /api/drivers/{id}/location/` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- `PATCH /api/drivers/{id}/online-status/` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

#### –î–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è (—Ç—Ä–µ–±—É—é—Ç —Ç–æ–∫–µ–Ω):
- `POST /api/dispatch/assign/{order_id}/` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- `GET /api/dispatch/candidates/{order_id}/` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### üåê WebSocket:

- `ws://localhost:8000/ws/orders/{order_id}/` - ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω
- `ws://localhost:8000/ws/drivers/{driver_id}/` - ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω
- `ws://localhost:8000/ws/passengers/{passenger_id}/` - ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω

### üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- ‚úÖ `API_DOCUMENTATION.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- ‚úÖ `API_EXAMPLES.md` - –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ `INTEGRATION_GUIDE.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ `QUICK_START.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- ‚úÖ `SETUP_BACKEND.md` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

```bash
# –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç
python test_api.py

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
curl http://localhost:8000/api/regions/
```

### üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫:

**Windows:**
```bash
cd backend
START_SERVER.bat
```

**–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:**
```bash
cd backend
.\venv\Scripts\Activate.ps1
python manage.py runserver
```

### üì± –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:

**–ü–∞—Å—Å–∞–∂–∏—Ä:**
- –¢–µ–ª–µ—Ñ–æ–Ω: `+7 (777) 777-77-77`
- OTP –∫–æ–¥: —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ Django —Å–µ—Ä–≤–µ—Ä–∞

**–í–æ–¥–∏—Ç–µ–ª—å:**
- –¢–µ–ª–µ—Ñ–æ–Ω: `+7 (900) 100-10-10` (–ø–µ—Ä–≤—ã–π –≤–æ–¥–∏—Ç–µ–ª—å)
- OTP –∫–æ–¥: —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ Django —Å–µ—Ä–≤–µ—Ä–∞

### ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** SQLite (dev)
- **WebSocket:** InMemoryChannelLayer (dev)
- **CORS:** –ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è localhost:3000, localhost:8080
- **JWT:** –¢–æ–∫–µ–Ω—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã 24 —á–∞—Å–∞

### üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. ‚úÖ Backend –≥–æ—Ç–æ–≤
2. ‚è≠Ô∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
3. ‚è≠Ô∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∑–∞–∫–∞–∑–∞
4. ‚è≠Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ production (PostgreSQL, Redis)

### üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞:

- –í—Å–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ API: —Å–º. `API_DOCUMENTATION.md`
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞: —Å–º. `API_EXAMPLES.md`
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: —Å–º. `INTEGRATION_GUIDE.md`

---

## üéä –ü–†–û–ï–ö–¢ –ì–û–¢–û–í!

Backend –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

